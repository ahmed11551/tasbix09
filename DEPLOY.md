# üöÄ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è –Ω–∞ Vercel

## ‚úÖ –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel Dashboard

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
DATABASE_URL=postgresql://user:password@host:5432/database
SESSION_SECRET=your-secret-key-min-32-chars-long

# –£–ñ–ï –ù–ê–°–¢–†–û–ï–ù–û (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å)
TEST_TOKEN=test_token_123
BOT_REPLIKA_API_URL=https://Bot.e-replika.ru/docs
TELEGRAM_BOT_TOKEN=8401186204:AAEnf7AsD1n8Nbfcp6fA6epuYJLchneteNs

# –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û (–¥–ª—è AI —Ñ—É–Ω–∫—Ü–∏–π)
OPENAI_API_KEY=your-openai-api-key-here

# –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò
NODE_ENV=production
```

### 2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
- **Neon** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è): https://neon.tech - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω
- **Supabase**: https://supabase.com - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω
- **Railway**: https://railway.app - $5 –∫—Ä–µ–¥–∏—Ç–∞/–º–µ—Å—è—Ü
- **–°–≤–æ—è –ë–î**: –ª—é–±–æ–π PostgreSQL —Å–µ—Ä–≤–µ—Ä

**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ë–î:**
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `DATABASE_URL` –≤ Vercel

### 3. –î–µ–ø–ª–æ–π –Ω–∞ Vercel

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://vercel.com
2. **Add New Project** ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Framework Preset:** Other
   - **Root Directory:** `./`
   - **Build Command:** `npm run build:vercel`
   - **Output Directory:** `dist/public`
   - **Install Command:** `npm install`
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. –ø—É–Ω–∫—Ç 1)
5. –ù–∞–∂–º–∏—Ç–µ **Deploy**

### 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

```bash
# –ß–µ—Ä–µ–∑ Vercel CLI
vercel env pull
npx prisma migrate deploy

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ë–î)
npx prisma migrate deploy
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è: `https://your-app.vercel.app`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç: `https://your-app.vercel.app/api/stats`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Telegram Mini App (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Vercel

```
api/
  index.ts          ‚Üê Serverless —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
dist/
  public/           ‚Üê –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
vercel.json         ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–õ–∏–º–∏—Ç –¥–µ–ø–ª–æ–µ–≤:** –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Vercel - 100 –¥–µ–ø–ª–æ–µ–≤/–¥–µ–Ω—å
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–∞ –≤–Ω–µ—à–Ω—è—è PostgreSQL (Vercel –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ë–î)
3. **–ú–∏–≥—Ä–∞—Ü–∏–∏:** –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è
4. **Telegram Bot:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –±–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Database connection failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î

### –û—à–∏–±–∫–∞: "Prisma Client not generated"
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `postinstall`
- –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é: `npx prisma migrate deploy`

### –û—à–∏–±–∫–∞: "Routes not found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `api/index.ts` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `vercel.json` –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é

- [x] ‚úÖ –í—Å–µ TypeScript –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [x] ‚úÖ Vercel –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [x] ‚úÖ API —Ñ—É–Ω–∫—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã
- [x] ‚úÖ –ù–µ—Ç –º–æ–∫-–¥–∞–Ω–Ω—ã—Ö
- [x] ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] ‚ö†Ô∏è **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
- [ ] ‚ö†Ô∏è **–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
- [ ] ‚ö†Ô∏è **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**

---

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

