# ‚úÖ –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ Supabase

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** –°–µ–≥–æ–¥–Ω—è  
**–ü—Ä–æ–µ–∫—Ç Supabase:** `xdlkilvotcnssarzugws.supabase.co`

---

## ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞

### –¢–∞–±–ª–∏—Ü—ã (12/12 —Å–æ–∑–¥–∞–Ω—ã):

1. ‚úÖ **User** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. ‚úÖ **Habit** - –ø—Ä–∏–≤—ã—á–∫–∏
3. ‚úÖ **Task** - –∑–∞–¥–∞—á–∏
4. ‚úÖ **Goal** - —Ü–µ–ª–∏
5. ‚úÖ **Session** - —Å–µ—Å—Å–∏–∏ —Ç–∞—Å–±–∏—Ö–∞
6. ‚úÖ **DhikrLog** - –ª–æ–≥–∏ –∑–∏–∫—Ä–æ–≤
7. ‚úÖ **DailyAzkar** - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∞–∑–∫–∞—Ä—ã
8. ‚úÖ **Badge** - –±–µ–π–¥–∂–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
9. ‚úÖ **CalendarEvent** - —Å–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
10. ‚úÖ **QazaDebt** - –¥–æ–ª–≥–∏ –ø–æ –∫–∞–∑–µ –Ω–∞–º–∞–∑–æ–≤
11. ‚úÖ **QazaCalendarEntry** - –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∫–∞–∑–µ –Ω–∞–º–∞–∑–æ–≤
12. ‚úÖ **CategoryStreak** - –∫–∞—Ç–µ–≥–æ—Ä–∏–π–Ω—ã–µ —Å—Ç—Ä–∏–∫–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

Supabase —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –≤–∫–ª—é—á–∏—Ç—å Row Level Security (RLS) –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü. 

**–í–∞–∂–Ω–æ:** –≠—Ç–æ **–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ** –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Prisma –Ω–∞–ø—Ä—è–º—É—é –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–µ–ª–∞–µ–º –≤ –∫–æ–¥–µ. RLS –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase API –Ω–∞–ø—Ä—è–º—É—é.

**–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤–∫–ª—é—á–∏—Ç—å RLS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```sql
ALTER TABLE "User" ENABLE ROW LEVEL SECURITY;
ALTER TABLE "Habit" ENABLE ROW LEVEL SECURITY;
-- –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
```

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ Vercel

### 1. –î–æ–±–∞–≤–∏—Ç—å DATABASE_URL

**Connection String –¥–ª—è Vercel:**
```
postgresql://postgres:Sebiev9595@db.xdlkilvotcnssarzugws.supabase.co:5432/postgres?sslmode=require
```

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Vercel Dashboard ‚Üí –ø—Ä–æ–µ–∫—Ç `SmartTasbihGoals`
2. Settings ‚Üí Environment Variables
3. –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ:
   - **Key:** `DATABASE_URL`
   - **Value:** `postgresql://postgres:Sebiev9595@db.xdlkilvotcnssarzugws.supabase.co:5432/postgres?sslmode=require`
   - **Environment:** Production, Preview, Development (–≤—Å–µ —Ç—Ä–∏)

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SESSION_SECRET

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `SESSION_SECRET` –¥–æ–±–∞–≤–ª–µ–Ω:
- **Key:** `SESSION_SECRET`
- **Value:** —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞

–ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤—å—Ç–µ (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ `openssl rand -base64 32`)

### 3. –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç—å

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- Vercel Dashboard ‚Üí Deployments ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí "..." ‚Üí "Redeploy"

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–¢–∞–±–ª–∏—Ü—ã:** –í—Å–µ 12 —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Prisma schema
- ‚ö†Ô∏è **Vercel:** –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DATABASE_URL
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `DATABASE_URL` –≤ Vercel (—Å–º. –≤—ã—à–µ)
2. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `SESSION_SECRET` –¥–æ–±–∞–≤–ª–µ–Ω
3. ‚úÖ –ü–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –æ—à–∏–±–∫–∏ 500 –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å! üéâ

